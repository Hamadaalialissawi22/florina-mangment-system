# Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù‚Ù‡Ù‰ ÙÙ„ÙˆØ±ÙŠÙ†Ø§ - Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„

## ğŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø´Ø§Ù…Ù„Ø© ÙˆÙ…ØªÙ‚Ø¯Ù…Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ù…Ù‚Ù‡Ù‰ ÙÙ„ÙˆØ±ÙŠÙ†Ø§ØŒ Ù…ØµÙ…Ù…Ø© Ø¨Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± ÙˆØ§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©.

## ğŸ—ï¸ Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¹Ø§Ù…

### Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- **users**: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
- **product_categories**: ÙØ¦Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- **products**: Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- **stores**: Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø§Ù„Ù…Ø¬Ø§ÙˆØ±Ø©
- **employees**: Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†
- **sales**: Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- **daily_withdrawals**: Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
- **settlements**: Ø§Ù„ØªØ³ÙˆÙŠØ§Øª
- **audit_log**: Ø³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª

### Ø§Ù„Ø¹Ø±ÙˆØ¶ (Views)
- **v_sales_detailed**: Ø¹Ø±Ø¶ Ø´Ø§Ù…Ù„ Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- **v_store_balances**: Ø£Ø±ØµØ¯Ø© Ø§Ù„Ù…Ø­Ù„Ø§Øª
- **v_employee_balances**: Ø£Ø±ØµØ¯Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†
- **v_daily_reports**: Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
- **v_products_inventory**: Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†
- **v_pending_settlements**: Ø§Ù„ØªØ³ÙˆÙŠØ§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©
- **v_top_selling_products**: Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ø¨ÙŠØ¹Ø§Ù‹

## ğŸš€ Ø§Ù„ØªØ«Ø¨ÙŠØª ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯

### 1. Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```sql
-- ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨:
\i database/schema/01_create_database_structure.sql
\i database/schema/02_create_functions_and_triggers.sql
\i database/schema/03_create_views.sql
\i database/schema/04_create_security_policies.sql
\i database/data/01_insert_sample_data.sql
\i database/maintenance/01_performance_optimization.sql
```

### 2. Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†

```sql
-- Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø¯Ø§Ø±ÙŠ
INSERT INTO florina.users (email, full_name, role) VALUES
('admin@florina.com', 'Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…', 'admin');
```

### 3. ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø§Ù…ØªØ¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

```sql
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS "pgcrypto";
CREATE EXTENSION IF NOT EXISTS "pg_stat_statements";
```

## ğŸ“Š Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©

### 1. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
- ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
- ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ù†Ø®ÙØ¶
- ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø¨ÙŠØ¹

### 2. Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠØ©
- Ø£Ø±Ù‚Ø§Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª: `SAL-20240124-000001`
- Ø£Ø±Ù‚Ø§Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„Ø³Ø­ÙˆØ¨Ø§Øª: `WTH-20240124-000001`
- Ø£Ø±Ù‚Ø§Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„ØªØ³ÙˆÙŠØ§Øª: `SET-20240124-000001`

### 3. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
- ØªØ­Ø¯ÙŠØ« Ø£Ø±ØµØ¯Ø© Ø§Ù„Ù…Ø­Ù„Ø§Øª ÙˆØ§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
- ØªØ³ÙˆÙŠØ© Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø¹Ù†Ø¯ Ø¥ØªÙ…Ø§Ù… Ø§Ù„ØªØ³ÙˆÙŠØ§Øª
- ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø© Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª (Ù†Ø´Ø·/Ù…Ø³ÙˆÙ‘Ù‰/Ù…Ù„ØºÙ‰)

### 4. Ø³Ø¬Ù„ Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ Ø§Ù„Ø´Ø§Ù…Ù„
- ØªØ³Ø¬ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª (Ø¥Ø¶Ø§ÙØ©/ØªØ¹Ø¯ÙŠÙ„/Ø­Ø°Ù)
- Ø­ÙØ¸ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© ÙˆØ§Ù„Ø¬Ø¯ÙŠØ¯Ø©
- ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„ÙˆÙ‚Øª

### 5. Ø³ÙŠØ§Ø³Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
- Row Level Security (RLS)
- ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…ØªØ¯Ø±Ø¬Ø© Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆØ±
- Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©

## ğŸ”§ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©

### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
```sql
SELECT * FROM florina.get_sales_stats('2024-01-01', '2024-01-31');
```

### Ø£Ø±ØµØ¯Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
```sql
SELECT * FROM florina.get_customer_balances();
```

### Ø§Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
```sql
SELECT florina.daily_maintenance();
```

## ğŸ“ˆ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡

### Ø¹Ø±Ø¶ Ø£Ø¨Ø·Ø£ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª
```sql
SELECT * FROM florina.v_slow_queries LIMIT 10;
```

### Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙÙ‡Ø§Ø±Ø³
```sql
SELECT * FROM florina.v_index_usage;
```

### Ø£Ø­Ø¬Ø§Ù… Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
```sql
SELECT * FROM florina.v_table_sizes;
```

## ğŸ›¡ï¸ Ø§Ù„Ø£Ù…Ø§Ù†

### Ø§Ù„Ø£Ø¯ÙˆØ§Ø± ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
- **admin**: ØµÙ„Ø§Ø­ÙŠØ© ÙƒØ§Ù…Ù„Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- **manager**: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- **cashier**: Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ø³Ø­ÙˆØ¨Ø§Øª
- **employee**: Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙÙ‚Ø·

### Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- ØªØ´ÙÙŠØ± ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±
- Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
- Ø³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø­Ù…ÙŠ

## ğŸ“‹ Ø§Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„Ø¯ÙˆØ±ÙŠØ©

### ÙŠÙˆÙ…ÙŠØ§Ù‹
```sql
SELECT florina.daily_maintenance();
```

### Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹
```sql
VACUUM ANALYZE;
REINDEX DATABASE florina;
```

### Ø´Ù‡Ø±ÙŠØ§Ù‹
```sql
SELECT florina.cleanup_old_data(90); -- Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ù‚Ø¯Ù… Ù…Ù† 90 ÙŠÙˆÙ…
```

## ğŸ” Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù…ÙÙŠØ¯Ø©

### Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ø¨ÙŠØ¹Ø§Ù‹
```sql
SELECT * FROM florina.v_top_selling_products LIMIT 10;
```

### Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ
```sql
SELECT * FROM florina.v_daily_reports 
WHERE report_date = CURRENT_DATE;
```

### Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…ØªØ£Ø®Ø±ÙŠÙ† ÙÙŠ Ø§Ù„Ø³Ø¯Ø§Ø¯
```sql
SELECT * FROM florina.v_pending_settlements 
WHERE total_pending_amount > 1000
ORDER BY total_pending_amount DESC;
```

### Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù†Ø®ÙØ¶Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```sql
SELECT * FROM florina.v_products_inventory 
WHERE stock_status IN ('Ù…Ù†Ø®ÙØ¶', 'Ù†ÙØ¯')
ORDER BY current_stock;
```

## ğŸš¨ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ÙˆØ§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©

### ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
```sql
SELECT name, current_stock, min_stock_level
FROM florina.products 
WHERE track_inventory = true 
AND current_stock <= min_stock_level;
```

### Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…ØªØ¬Ø§ÙˆØ²ÙŠÙ† Ù„Ù„Ø­Ø¯ Ø§Ù„Ø§Ø¦ØªÙ…Ø§Ù†ÙŠ
```sql
SELECT customer_name, current_balance, credit_limit
FROM florina.v_store_balances 
WHERE account_status = 'Ù…ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­Ø¯';
```

## ğŸ“ Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©

Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø£Ùˆ Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ù…Ø´Ø§ÙƒÙ„:
- Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: support@florina.com
- Ø§Ù„Ù‡Ø§ØªÙ: 0500000000

---

**ØªÙ… ØªØ·ÙˆÙŠØ± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨ÙˆØ§Ø³Ø·Ø©:** ÙØ±ÙŠÙ‚ ØªØ·ÙˆÙŠØ± Ù…Ù‚Ù‡Ù‰ ÙÙ„ÙˆØ±ÙŠÙ†Ø§  
**ØªØ§Ø±ÙŠØ® Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** ÙŠÙ†Ø§ÙŠØ± 2024  
**Ø§Ù„Ø¥ØµØ¯Ø§Ø±:** 2.0.0