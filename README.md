florina-mangment-system

# 🏪 نظام إدارة مقهى فلورينا

نظام إدارة شامل ومتطور لمقهى فلورينا يتضمن إدارة المبيعات، المخزون، العملاء، والتقارير.

## 🚀 المميزات الرئيسية

- **💰 نظام مبيعات متقدم** مع أسعار متدرجة للعملاء
- **📊 إدارة المخزون الذكية** مع تنبيهات المخزون المنخفض
- **👥 إدارة العملاء** (محلات مجاورة وموظفين)
- **🧾 نظام التسويات** التلقائي
- **📈 تقارير شاملة** ولوحة تحكم تفاعلية
- **🔒 نظام أمان متقدم** مع صلاحيات متدرجة
- **📱 تصميم متجاوب** يعمل على جميع الأجهزة

## 🔐 بيانات تسجيل الدخول

### المستخدم الإداري:
- **البريد الإلكتروني:** `florinacafe@gmail.com`
- **كلمة المرور:** `123456789@@f`
- **الدور:** مدير عام (صلاحية كاملة)

### مستخدمين إضافيين للاختبار:
- **مدير العمليات:** `manager@florinacafe.com` / `manager123`
- **الكاشير:** `cashier@florinacafe.com` / `cashier123`

## 🛠️ التقنيات المستخدمة

- **Frontend:** React + TypeScript + Tailwind CSS
- **Backend:** Supabase (PostgreSQL)
- **المصادقة:** Supabase Auth
- **التخزين:** Supabase Database
- **النشر:** Netlify

## 📦 التثبيت والإعداد

### 1. استنساخ المشروع
```bash
git clone [repository-url]
cd florina-management-system
npm install
```

### 2. إعداد Supabase
1. أنشئ مشروع جديد على [Supabase](https://supabase.com)
2. انسخ Project URL و API Key
3. في التطبيق، انقر على "Connect to Supabase" وأدخل البيانات

### 3. إنشاء قاعدة البيانات
في Supabase SQL Editor، شغل الملفات بالترتيب:
```sql
-- من مجلد database/schema/
\i 01_create_database_structure.sql
\i 02_create_functions_and_triggers.sql
\i 03_create_views.sql
\i 04_create_security_policies.sql

-- من مجلد database/data/
\i 01_insert_sample_data.sql

-- من مجلد database/admin/
\i setup_admin_user.sql
```

### 4. تشغيل التطبيق
```bash
npm run dev
```

## 🏗️ هيكل قاعدة البيانات

### الجداول الرئيسية:
- **users** - المستخدمين والصلاحيات
- **product_categories** - فئات المنتجات
- **products** - المنتجات مع إدارة المخزون
- **stores** - المحلات المجاورة
- **employees** - الموظفين
- **sales** - المبيعات
- **daily_withdrawals** - السحوبات اليومية
- **settlements** - التسويات
- **audit_log** - سجل العمليات

### العروض المتخصصة:
- **v_sales_detailed** - عرض شامل للمبيعات
- **v_store_balances** - أرصدة المحلات
- **v_employee_balances** - أرصدة الموظفين
- **v_daily_reports** - التقارير اليومية
- **v_products_inventory** - المنتجات والمخزون
- **v_pending_settlements** - التسويات المعلقة
- **v_top_selling_products** - أفضل المنتجات مبيعاً

## 🔧 الميزات المتقدمة

### نظام الترقيم التلقائي:
- المبيعات: `SAL-20240124-000001`
- السحوبات: `WTH-20240124-000001`
- التسويات: `SET-20240124-000001`

### إدارة المخزون الذكية:
- تتبع المخزون للمنتجات المحددة
- تنبيهات المخزون المنخفض
- تحديث تلقائي عند البيع

### حساب الأرصدة التلقائي:
- تحديث أرصدة المحلات والموظفين فوراً
- تسوية الأرصدة عند إتمام التسويات
- تتبع حالة السحوبات

### سجل التدقيق الشامل:
- تسجيل جميع العمليات
- حفظ القيم القديمة والجديدة
- تتبع المستخدم والوقت

## 📊 لوحة التحكم

تتضمن لوحة التحكم:
- **إحصائيات المبيعات** اليومية والشهرية
- **رسوم بيانية تفاعلية** للمبيعات والعملاء
- **إجراءات سريعة** للعمليات الشائعة
- **آخر العمليات** في الوقت الفعلي

## 🔒 نظام الأمان

### الأدوار والصلاحيات:
- **Admin:** صلاحية كاملة على جميع البيانات
- **Manager:** إدارة العمليات والتقارير
- **Cashier:** المبيعات والسحوبات
- **Employee:** عرض البيانات الأساسية فقط

### حماية البيانات:
- Row Level Security (RLS)
- تشفير كلمات المرور
- حماية البيانات الشخصية
- سجل العمليات المحمي

## 📱 التصميم المتجاوب

- **تصميم متجاوب** يعمل على جميع الأجهزة
- **واجهة عربية** بالكامل مع دعم RTL
- **تصميم حديث** مع تأثيرات بصرية جذابة
- **تجربة مستخدم محسّنة** مع تنقل سهل

## 🚀 النشر

التطبيق منشور على: [https://wondrous-fenglisu-e51961.netlify.app](https://wondrous-fenglisu-e51961.netlify.app)

## 📞 الدعم

للحصول على المساعدة أو الإبلاغ عن مشاكل:
- البريد الإلكتروني: florinacafe@gmail.com
- الهاتف: 0500000000

---

**تم تطوير النظام بواسطة:** فريق تطوير مقهى فلورينا  
**تاريخ آخر تحديث:** يناير 2024  
**الإصدار:** 2.0.0
